# Copier template configuration for eccenca Corporate Memory packages
# https://copier.readthedocs.io/
---
_min_copier_version: "9.0.0"
_subdirectory: src

# Questions for the user
package_type:
  type: str
  default: "vocabulary"
  choices:
    Vocabulary Package: "vocabulary"
    Project Package: "project"
  help: "Type of package"

package_id:
  type: str
  help: "Package ID (e.g., 'eccenca-supply-chain-vocab', 'w3c-org-vocab')"
  default: >-
    {{ _copier_conf.dst_path.name | regex_replace('-package$', '') }}
  validator: >-
    {% if not package_id | regex_search('^[a-z][a-z0-9]{1,19}(-[a-z][a-z0-9]{0,19}){1,4}$') %}
      Package ID must be lowercase letters, numbers, and hyphens
    {% endif %}

package_name:
  type: str
  help: "Human-readable package name (e.g., 'My Awesome Vocabulary', 'My Great Project')"
  default: My Awesome Vocabulary
  validator: >-
    {% if not package_name %}Package name is required
    {% elif package_name | length < 3 %}
      Package name must be at least 3 characters
    {% elif package_name | length > 50 %}
      Package name must be at most 50 characters
    {% endif %}

package_description:
  type: str
  help: "Short description of the package (e.g., 'A vocabulary for ...', 'A project that ...')"
  default: Create Knowledge Graphs with eccenca Corporate Memory :-)
  validator: >-
    {% if not package_description %}Package description is required
    {% elif package_description | length < 10 %}
      Package description must be at least 10 characters
    {% elif package_description | length > 150 %}
      Package description must be at most 150 characters
    {% endif %}

python_dependencies:
  type: str
  when: "{{ package_type != 'vocabulary' }}"
  default: ""
  help: >-
    Comma-separated Python package dependencies
    (e.g., 'cmem-plugin-pyshacl, cmem-plugin-llm')

vocab_dependencies:
  type: str
  when: "{{ package_type != 'vocabulary' }}"
  default: ""
  help: >-
    Comma-separated vocabulary or project dependencies
    (e.g., 'aksw-rut-vocab, my-other-project')

github_page:
  type: str
  default: ""
  help: >-
    github_page: This URL (e.g. https://github.com/user/repo) will be used as
    the base for icons and the homepage link.
    Leave blank if your project is not on github.

